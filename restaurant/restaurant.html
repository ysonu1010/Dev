<!DOCTYPE html>
<html>
    <head>
        <style>
            .button {
              background-color: #4CAF50;
              border: none;
              color: white;
              padding: 15px 25px;
              text-align: center;
              font-size: 16px;
              cursor: pointer;
            }
            
            .button:hover {
              background-color: green;
            }
            </style>
    </head>
    <body>
        <div class="btn">
        <button id="buttonS" onclick="south()">South Indian</button>
        <button id="buttonN" onclick="north()">North Indian</button>
        <button id="buttonC" onclick="continental()">Continental</button>
        </div>
        <div>
            <form action="/Test/Post" method="post">
                <fieldset id="display">  
                    <legend>Which is your favourite cousine?</legend> 
                
                 
                <input type="submit" value="Post Order" formaction="abc.html"> 
              </fieldset>
                </form>
               
        </div>
        <div>

        </div>
        <script type="text/javascript">  
            function DishSelection()  
            {  
                var checkboxes = document.getElementsByName("dish");  
                var numberOfCheckedItems = 0;  
                for(var i = 0; i < checkboxes.length; i++)  
                {  
                    if(checkboxes[i].checked)  
                        numberOfCheckedItems++;  
                }  
                if(numberOfCheckedItems > 2)  
                {  
                    alert("You can't select more than two favorite pets!");  
                    return false;  
                }  
            }  

            function south(){
                var xhr=new XMLHttpRequest();
                var myDiv = document.getElementById("display"); 
                  xhr.addEventListener('load',function(){
                console.log(JSON.parse(this.responseText));
              var k= (JSON.parse(this.responseText));
                for(var i=0;i<k.length;i++){
                var out=[k[i]._id,k[i].name]
                   console.log(k[i]._id); 
                   console.log(k[i].name); 
                   var checkbox = document.createElement('input'); 
                   // Assigning the attributes 
            // to created checkbox 
                   checkbox.type = "checkbox"; 
                    checkbox.name = "name"; 
                      checkbox.value = "dish"; 

                      // creating label for checkbox 
                     var label = document.createElement('label');
                     // assigning attributes for  
                     // the created label tag  
                     label.htmlFor = "id"; 
              
                      // appending the created text to  
                          // the created label tag  
                    label.insertBefore(document.createTextNode(`Dish_id: `+k[i]._id+`  Dish_name: `+k[i].name+``),label.childNodes[0]);
                      // appending the checkbox 
                       // and label to div 

                    //=======================
                    var li=document.createElement('div');
                   li.innerHTML=` `;
                
                    //====================
                     
                     myDiv.insertBefore(checkbox,myDiv.childNodes[0]); 
                     
                      myDiv.insertBefore(label,myDiv.childNodes[0]); 
                      myDiv.insertBefore(li, myDiv.childNodes[0]);
                 }  
               })
                  xhr.open('GET','http://localhost:3000/menu/SI',true);
                 xhr.send();
        }

        function north(){
                var xhr=new XMLHttpRequest();
                var myDiv = document.getElementById("display"); 
                  xhr.addEventListener('load',function(){
                console.log(JSON.parse(this.responseText));
              var k= (JSON.parse(this.responseText));
                for(var i=0;i<k.length;i++){
                var out=[k[i]._id,k[i].name]
                   console.log(k[i]._id); 
                   console.log(k[i].name); 
                   var checkbox = document.createElement('input'); 
                   // Assigning the attributes 
            // to created checkbox 
                   checkbox.type = "checkbox"; 
                    checkbox.name = "name"; 
                      checkbox.value = "dish"; 

                      // creating label for checkbox 
                     var label = document.createElement('label');
                     // assigning attributes for  
                     // the created label tag  
                     label.htmlFor = "id"; 
              
                      // appending the created text to  
                      label.insertBefore(document.createTextNode(`Dish_id: `+k[i]._id+`  Dish_name: `+k[i].name+``),label.childNodes[0]);
                      // appending the checkbox 
                       // and label to div 

                    //=======================
                    var li=document.createElement('div');
                   li.innerHTML=` `;
                
                    //====================
                     
                     myDiv.insertBefore(checkbox,myDiv.childNodes[0]); 
                     
                      myDiv.insertBefore(label,myDiv.childNodes[0]); 
                      myDiv.insertBefore(li, myDiv.childNodes[0]);
                 }  
               })
                  xhr.open('GET','http://localhost:3000/menu/NI',true);
                 xhr.send();
        }

        function continental(){
                var xhr=new XMLHttpRequest();
                var myDiv = document.getElementById("display"); 
                  xhr.addEventListener('load',function(){
                console.log(JSON.parse(this.responseText));
              var k= (JSON.parse(this.responseText));
                for(var i=0;i<k.length;i++){
                var out=[k[i]._id,k[i].name]
                   console.log(k[i]._id); 
                   console.log(k[i].name); 
                   var checkbox = document.createElement('input'); 
                   // Assigning the attributes 
            // to created checkbox 
                   checkbox.type = "checkbox"; 
                    checkbox.name = "name"; 
                      checkbox.value = "dish"; 

                      // creating label for checkbox 
                     var label = document.createElement('label');
                     // assigning attributes for  
                     // the created label tag  
                     label.htmlFor = "id"; 
              
                      // appending the created text to  
                          // the created label tag  
                          label.insertBefore(document.createTextNode(`Dish_id: `+k[i]._id+`  Dish_name: `+k[i].name+``),label.childNodes[0]);
                      // appending the checkbox 
                       // and label to div 

                    //=======================
                    var li=document.createElement('div');
                   li.innerHTML=` `;
                
                    //====================
                     
                     myDiv.insertBefore(checkbox,myDiv.childNodes[0]); 
                     
                      myDiv.insertBefore(label,myDiv.childNodes[0]); 
                      myDiv.insertBefore(li, myDiv.childNodes[0]);
                 }  
               })
                  xhr.open('GET','http://localhost:3000/menu/CO',true);
                 xhr.send();
        }
            </script>
            
    </body>
</html>


